import{w as N,q as o,v as I,ak as A,H as S,x as D,o as R,y as v,C as p,D as h,E as y,a1 as x,z as U,al as k,am as q,an as g,m as w,ao as C,b as F,ap as H,a as L}from"./CXBtRYQN.js";function M(e,a,n=!1){o&&I();var s=e,r=null,t=null,u=x,E=n?A:0,l=!1;const T=(c,i=!0)=>{l=!0,b(i,c)},b=(c,i)=>{if(u===(u=c))return;let d=!1;if(o){const m=s.data===S;!!u===m&&(s=D(),R(s),v(!1),d=!0)}u?(r?p(r):i&&(r=h(()=>i(s))),t&&y(t,()=>{t=null})):(t?p(t):i&&(t=h(()=>i(s))),r&&y(r,()=>{r=null})),d&&v(!0)};N(()=>{l=!1,a(T),l||b(null,null)},E),o&&(s=U)}let f=!1,_=Symbol();function P(e,a,n){const s=n[a]??(n[a]={store:null,source:w(void 0),unsubscribe:g});if(s.store!==e&&!(_ in n))if(s.unsubscribe(),s.store=e??null,e==null)s.source.v=void 0,s.unsubscribe=g;else{var r=!0;s.unsubscribe=C(e,t=>{r?s.source.v=t:F(s.source,t)}),r=!1}return e&&_ in n?H(e):L(s.source)}function O(e,a){return e.set(a),a}function Y(e,a){var n=e[a];n.store!==null&&O(n.store,n.source.v)}function Z(){const e={};function a(){k(()=>{for(var n in e)e[n].unsubscribe();q(e,_,{enumerable:!1,value:!0})})}return[e,a]}function $(e){var a=f;try{return f=!1,[e(),f]}finally{f=a}}export{P as a,Y as b,$ as c,M as i,Z as s};
